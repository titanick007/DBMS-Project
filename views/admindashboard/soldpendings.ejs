<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
  <% include ../partials/head %>
<style>
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
}

tr:nth-child(even) {
    background-color: #dddddd;
}
</style>
</head>
<body>
<header>
    <% include ../partials/adminHeader %>
</header>
<div class="panel panel-primary">
    <a href="/logout">
      <button class="btn-success btn pull-right">
        Logout
      </button>
    </a>
</div>

<h2>Most Ordered Products</h2>

<% if (mostOrderedProducts.length === 0) { %>
  <p>No orders</p>
<% } else { %>
  <table>
    <tr>
      <th>Product Name</th>
      <th>Total Quantity Sold</th>
    </tr>
    <% for(var i=0; i<mostOrderedProducts.length; i++) { %>
      <tr>
        <td><%= mostOrderedProducts[i].productname %></td>
        <td><%= mostOrderedProducts[i].total_sold %></td>
      </tr>
    <% } %>
  </table>
<% } %>

<hr>

<h2>Orders</h2>

<% if (result.length === 0) { %>
  <p>No orders</p>
<% } else { %>
  <table>
    <tr>
      <th>Product Name</th>
      <th>User Name</th>
      <th>Quantity</th>
      <th>Price</th>
      <th>Address</th>
      <th>Zip Code</th>
      <th>Delivery Status</th>
      <th>Order date</th>
      <th>Option</th>
    </tr>
    <% for(var i=0; i<result.length; i++) { %>
      <tr>
        <td><%= result[i].productname %></td>
        <td><%= result[i].username %></td>
        <td><%= result[i].quantity %></td>
        <td><%= result[i].price %></td>
        <td><%= result[i].address %></td>
        <td><%= result[i].zipcode %></td>
        <td><%= result[i].Orderdate %></td>
      </tr>
    <% } %>
  </table>
<% } %>

</body>
</html>
